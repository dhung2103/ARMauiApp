<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="ARMauiApp.Pages.AccountPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             Title="TÃ i khoáº£n">

    <ScrollView>
        <StackLayout Padding="20" Spacing="20">

            <!-- Profile Header -->
            <Frame BackgroundColor="{StaticResource Primary}"
                   HasShadow="True"
                   CornerRadius="15"
                   Padding="20">
                <StackLayout Orientation="Horizontal" Spacing="15">
                    <Frame WidthRequest="80"
                           HeightRequest="80"
                           CornerRadius="40"
                           Padding="0"
                           HasShadow="False"
                           BackgroundColor="White">
                        <Label Text="ðŸ‘¤"
                               FontSize="40"
                               VerticalOptions="Center"
                               HorizontalOptions="Center"
                               TextColor="{StaticResource Primary}" />
                    </Frame>
                    <StackLayout VerticalOptions="Center" Spacing="5">
                        <Label Text="{Binding CurrentUser.Username, FallbackValue='Äang táº£i...'}"
                               FontSize="20"
                               FontAttributes="Bold"
                               TextColor="White" />
                        <Label Text="{Binding CurrentUser.Email, FallbackValue='Äang táº£i...'}"
                               FontSize="14"
                               TextColor="White"
                               Opacity="0.8" />
                    </StackLayout>
                </StackLayout>
            </Frame>

            <!-- Menu Items -->
            <StackLayout Spacing="10">

                <!-- Profile Settings -->
                <Frame BackgroundColor="{AppThemeBinding Light=White, Dark={StaticResource Gray800}}"
                       HasShadow="True"
                       CornerRadius="10"
                       Padding="0">
                    <StackLayout>

                        <Grid Padding="15" ColumnDefinitions="Auto, *, Auto">
                            <Label Grid.Column="0"
                                   Text="âœï¸"
                                   FontSize="20"
                                   VerticalOptions="Center" />
                            <Label Grid.Column="1"
                                   Text="Chá»‰nh sá»­a há»“ sÆ¡"
                                   FontSize="16"
                                   VerticalOptions="Center"
                                   Margin="15,0,0,0" />
                            <Label Grid.Column="2"
                                   Text="â€º"
                                   FontSize="16"
                                   VerticalOptions="Center" />
                            <Grid.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnEditProfileTapped" />
                            </Grid.GestureRecognizers>
                        </Grid>

                        <BoxView HeightRequest="1" BackgroundColor="{AppThemeBinding Light={StaticResource Gray200}, Dark={StaticResource Gray600}}" />

                        <Grid Padding="15" ColumnDefinitions="Auto, *, Auto">
                            <Label Grid.Column="0"
                                   Text="ðŸ”‘"
                                   FontSize="20"
                                   VerticalOptions="Center" />
                            <Label Grid.Column="1"
                                   Text="Äá»•i máº­t kháº©u"
                                   FontSize="16"
                                   VerticalOptions="Center"
                                   Margin="15,0,0,0" />
                            <Label Grid.Column="2"
                                   Text="â€º"
                                   FontSize="16"
                                   VerticalOptions="Center" />
                            <Grid.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnChangePasswordTapped" />
                            </Grid.GestureRecognizers>
                        </Grid>

                    </StackLayout>
                </Frame>

                <!-- Settings -->
                <Frame BackgroundColor="{AppThemeBinding Light=White, Dark={StaticResource Gray800}}"
                       HasShadow="True"
                       CornerRadius="10"
                       Padding="0">
                    <StackLayout>

                        <Grid Padding="15" ColumnDefinitions="Auto, *, Auto">
                            <Label Grid.Column="0"
                                   Text="âš™ï¸"
                                   FontSize="20"
                                   VerticalOptions="Center" />
                            <Label Grid.Column="1"
                                   Text="CÃ i Ä‘áº·t"
                                   FontSize="16"
                                   VerticalOptions="Center"
                                   Margin="15,0,0,0" />
                            <Label Grid.Column="2"
                                   Text="â€º"
                                   FontSize="16"
                                   VerticalOptions="Center" />
                            <Grid.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnSettingsTapped" />
                            </Grid.GestureRecognizers>
                        </Grid>

                        <BoxView HeightRequest="1" BackgroundColor="{AppThemeBinding Light={StaticResource Gray200}, Dark={StaticResource Gray600}}" />

                        <Grid Padding="15" ColumnDefinitions="Auto, *, Auto">
                            <Label Grid.Column="0"
                                   Text="â“"
                                   FontSize="20"
                                   VerticalOptions="Center" />
                            <Label Grid.Column="1"
                                   Text="Trá»£ giÃºp &amp; Há»— trá»£"
                                   FontSize="16"
                                   VerticalOptions="Center"
                                   Margin="15,0,0,0" />
                            <Label Grid.Column="2"
                                   Text="â€º"
                                   FontSize="16"
                                   VerticalOptions="Center" />
                            <Grid.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnHelpTapped" />
                            </Grid.GestureRecognizers>
                        </Grid>

                    </StackLayout>
                </Frame>

                <!-- App Info -->
                <Frame BackgroundColor="{AppThemeBinding Light=White, Dark={StaticResource Gray800}}"
                       HasShadow="True"
                       CornerRadius="10"
                       Padding="15">
                    <StackLayout Spacing="5">
                        <Label Text="PhiÃªn báº£n á»©ng dá»¥ng: 1.0.0"
                               FontSize="14"
                               TextColor="{AppThemeBinding Light={StaticResource Gray600}, Dark={StaticResource Gray300}}" />
                        <Label Text="XÃ¢y dá»±ng vá»›i .NET MAUI &amp; UraniumUI"
                               FontSize="12"
                               TextColor="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource Gray400}}" />
                    </StackLayout>
                </Frame>

                <!-- Logout Button -->
                <Button Text="ÄÄƒng xuáº¥t"
                        BackgroundColor="{StaticResource Danger}"
                        TextColor="White"
                        HeightRequest="50"
                        CornerRadius="25"
                        FontSize="16"
                        FontAttributes="Bold"
                        Margin="0,20,0,0"
                        Clicked="OnLogoutClicked" />

            </StackLayout>

        </StackLayout>
    </ScrollView>

</ContentPage>
