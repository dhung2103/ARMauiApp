<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="ARMauiApp.Pages.ChangePasswordPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             Title="Đổi mật khẩu">

    <ScrollView>
        <StackLayout Padding="30" Spacing="25">
            
            <!-- Header -->
            <StackLayout Spacing="10" Margin="0,20,0,30">
                <Label Text="🔐"
                       FontSize="60"
                       HorizontalOptions="Center"
                       TextColor="{StaticResource Primary}" />
                <Label Text="Đổi mật khẩu"
                       FontSize="28"
                       FontAttributes="Bold"
                       HorizontalOptions="Center"
                       TextColor="{AppThemeBinding Light={StaticResource Black}, Dark={StaticResource White}}" />
                <Label Text="Nhập mật khẩu hiện tại và mật khẩu mới"
                       FontSize="16"
                       HorizontalOptions="Center"
                       TextColor="{StaticResource Gray600}"
                       HorizontalTextAlignment="Center" />
            </StackLayout>

            <!-- Loading Indicator -->
            <ActivityIndicator x:Name="LoadingIndicator" 
                             IsVisible="False" 
                             IsRunning="False" 
                             Color="{StaticResource Primary}" />

            <!-- Form -->
            <StackLayout Spacing="20">
                
                <!-- Current Password -->
                <StackLayout>
                    <Label Text="Mật khẩu hiện tại *" 
                           FontSize="16" 
                           TextColor="{StaticResource Gray700}" />
                    <Frame BorderColor="{StaticResource Gray300}" 
                           BackgroundColor="{AppThemeBinding Light=White, Dark={StaticResource Gray800}}"
                           Padding="0" 
                           CornerRadius="8"
                           HasShadow="False">
                        <Entry x:Name="CurrentPasswordEntry"
                               Placeholder="Nhập mật khẩu hiện tại"
                               IsPassword="True"
                               FontSize="16"
                               BackgroundColor="Transparent"
                               PlaceholderColor="{StaticResource Gray500}"
                               TextColor="{AppThemeBinding Light={StaticResource Black}, Dark={StaticResource White}}" />
                    </Frame>
                </StackLayout>

                <!-- New Password -->
                <StackLayout>
                    <Label Text="Mật khẩu mới *" 
                           FontSize="16" 
                           TextColor="{StaticResource Gray700}" />
                    <Frame BorderColor="{StaticResource Gray300}" 
                           BackgroundColor="{AppThemeBinding Light=White, Dark={StaticResource Gray800}}"
                           Padding="0" 
                           CornerRadius="8"
                           HasShadow="False">
                        <Entry x:Name="NewPasswordEntry"
                               Placeholder="Nhập mật khẩu mới"
                               IsPassword="True"
                               FontSize="16"
                               BackgroundColor="Transparent"
                               PlaceholderColor="{StaticResource Gray500}"
                               TextColor="{AppThemeBinding Light={StaticResource Black}, Dark={StaticResource White}}" />
                    </Frame>
                </StackLayout>

                <!-- Confirm New Password -->
                <StackLayout>
                    <Label Text="Xác nhận mật khẩu mới *" 
                           FontSize="16" 
                           TextColor="{StaticResource Gray700}" />
                    <Frame BorderColor="{StaticResource Gray300}" 
                           BackgroundColor="{AppThemeBinding Light=White, Dark={StaticResource Gray800}}"
                           Padding="0" 
                           CornerRadius="8"
                           HasShadow="False">
                        <Entry x:Name="ConfirmPasswordEntry"
                               Placeholder="Xác nhận mật khẩu mới"
                               IsPassword="True"
                               FontSize="16"
                               BackgroundColor="Transparent"
                               PlaceholderColor="{StaticResource Gray500}"
                               TextColor="{AppThemeBinding Light={StaticResource Black}, Dark={StaticResource White}}" />
                    </Frame>
                </StackLayout>

                <!-- Change Password Button -->
                <Button x:Name="ChangePasswordButton"
                        Text="Đổi mật khẩu"
                        Clicked="OnChangePasswordClicked"
                        BackgroundColor="{StaticResource Primary}"
                        TextColor="White"
                        FontSize="18"
                        FontAttributes="Bold"
                        CornerRadius="8"
                        HeightRequest="50"
                        Margin="0,20,0,0" />

                <!-- Back Button -->
                <Button Text="Quay lại"
                        Clicked="OnBackClicked"
                        BackgroundColor="Transparent"
                        TextColor="{StaticResource Primary}"
                        FontSize="16"
                        CornerRadius="8"
                        HeightRequest="50" />

            </StackLayout>

        </StackLayout>
    </ScrollView>
</ContentPage>
